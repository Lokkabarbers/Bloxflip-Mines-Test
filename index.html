<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Gambling - Mines</title>
    <style>
/* Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

/* Base styles */
body {
    font-family: 'Poppins', sans-serif;
    background-color: #121212; /* Dark background */
    color: #ffffff; /* Light text */
    margin: 0;
    padding: 20px;
}

h1 {
    text-align: center;
    color: #ffffff;
}

/* Neumorphism styles */
.mines_minesGame__6Bltb {
    display: grid;
    grid-template-columns: repeat(5, 50px);
    grid-template-rows: repeat(5, 50px);
    gap: 5px;
    padding: 20px;
}

.mines_minesGameItem__S2ytQ {
    width: 50px;
    height: 50px;
    background: #232c33; /* Dark tile color */
    border-radius: 12px;
    box-shadow: 6px 6px 12px #0d1418,
                -6px -6px 12px #38434f; /* Neumorphic effect */
    cursor: pointer;
    transition: all 0.3s ease;
}

.mines_minesGameItem__S2ytQ:hover {
    background: #2b353f;
}

.mines_minesGameItem__S2ytQ:active {
    box-shadow: inset 6px 6px 12px #0d1418,
                inset -6px -6px 12px #38434f; /* Pressed effect */
}

/* Improved button and input styles */
.button_button__dZRSb {
    background: linear-gradient(145deg, #2d3b45, #20282e);
    border: none;
    border-radius: 20px;
    padding: 10px 20px;
    margin: 10px;
    color: #fff;
    box-shadow: 4px 4px 8px #0b1013,
                -4px -4px 8px #37434d;
    transition: all 0.3s ease;
}

.button_button__dZRSb:hover {
    background: linear-gradient(145deg, #273238, #1c2428);
}

.input_input__N_xjH {
    background: #232c33;
    border: none;
    border-radius: 10px;
    padding: 10px;
    color: #fff;
}

/* Balance and deposit styles */
.balance, .deposit-balance, .total-withdrawn {
    background: #1e262e;
    padding: 10px;
    border-radius: 10px;
    box-shadow: 4px 4px 8px #0b1013,
                -4px -4px 8px #37434d;
    margin-bottom: 20px;
}

/* Popup styles */
.popup-container {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8); /* Semi-transparent black */
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.popup-content {
    background: #232c33;
    border-radius: 20px;
    box-shadow: 4px 4px 8px #0b1013,
                -4px -4px 8px #37434d;
padding: 40px;
width: 90%;
max-width: 400px;
}

.popup-content h2, .popup-content p {
color: #fff;
}

.close {
color: #fff;
position: absolute;
top: 20px;
right: 20px;
cursor: pointer;
font-size: 1.5em;
}

.button_inputButton__B2DPv, .button_primary__LXFHi {
background: linear-gradient(145deg, #323c47, #2b333d);
color: #ffffff;
padding: 10px;
border: none;
border-radius: 5px;
box-shadow: 3px 3px 6px #0b1013,
-3px -3px 6px #37434d;
transition: all 0.2s ease;
}

.button_inputButton__B2DPv:active, .button_primary__LXFHi:active {
box-shadow: inset 3px 3px 6px #0b1013,
inset -3px -3px 6px #37434d;
}

/* Animation for the game tiles */
@keyframes bottomTop {
0% {
opacity: 0;
transform: translateY(50px);
}
100% {
opacity: 1;
transform: translateY(0);
}
}

@keyframes fadeIn {
from { opacity: 0; }
to { opacity: 1; }
}

/* Add animation to the game elements */
.game-layout_gameLayout__bgIOR, .game-layout_gameLayoutColumn__q01vS, .mines_minesGame__6Bltb {
animation: bottomTop 0.5s ease-out forwards;
}

.popup-container {
animation: fadeIn 0.5s ease-out forwards;
}

/* Enhance the visual feedback for game state */
.mines_minesGameItem__S2ytQ.safe {
background-color: #4CAF50;
}

.mines_minesGameItem__S2ytQ.active-mine {
background-color: #f44336;
}

.cashout-button, .withdraw-button {
background: #2196F3;
}

.cashout-button:disabled, .withdraw-button:disabled {
background: #5c6f7c;
cursor: not-allowed;
}

/* Miscellaneous Styles */
.balance, .total-withdrawn {
justify-content: space-between;
align-items: center;
}

.deposit-option {
transition: all 0.3s ease;
cursor: pointer;
}

.deposit-option:hover {
transform: translateY(-5px);
box-shadow: 4px 4px 8px #0b1013,
-4px -4px 8px #37434d;
}

/* Make the design responsive /
@media (max-width: 768px) {
.mines_minesGame__6Bltb {
grid-template-columns: repeat(3, 50px); / Adjust columns for smaller screens */
grid-template-rows: repeat(5, 50px);
}
}



        .confirmation-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1001; /* Ensure the confirmation popup is in front of everything */
        }

        .confirmation-popup h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        .confirmation-popup button {
            display: block;
            margin: 0 auto;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .confirmation-popup button.cancel {
            background-color: #f44336;
            margin-right: 10px;
        }

        .thank-you-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1001; /* Ensure the thank you popup is in front of everything */
        }

        .thank-you-popup h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        .thank-you-popup .checkmark {
            text-align: center;
            font-size: 48px;
            color: #4CAF50;
        }

        .thank-you-popup .close-button {
            display: block;
            margin: 0 auto;
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
/* Overlay that covers the entire screen */
.popup-container {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Dark overlay */
    z-index: 1000;
}

/* Common style for all popup content boxes */
.popup-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #2a2f45; /* Dark blue, similar to the theme */
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5); /* Soft box shadow for depth */
    color: white;
    width: 90%; /* Responsive width */
    max-width: 400px; /* Maximum width */
    box-sizing: border-box; /* Include padding and border in the width */
}

/* Heading inside popups */
.popup-content h2 {
    text-align: center;
    margin-bottom: 20px;
}

/* Buttons inside confirmation popup */
.confirmation-popup button {
    display: block;
    margin: 0 auto 10px; /* Center button with margin at the bottom */
    padding: 10px 20px;
    background: linear-gradient(145deg, #5568fe, #394cba); /* Gradient button */
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2); /* Button shadow */
    font-size: 16px;
    transition: transform 0.3s, box-shadow 0.3s;
}

/* Hover and active states for confirmation buttons */
.confirmation-popup button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.3);
}

.confirmation-popup button:active {
    transform: translateY(0);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

/* Cancel button styling */
.confirmation-popup button.cancel {
    background: #f44336; /* Flat red color */
}

/* Thank you popup specific styles, can reuse .popup-content styles */
.thank-you-popup .checkmark {
    text-align: center;
    font-size: 48px;
    color: #4CAF50; /* Green checkmark */
}

.thank-you-popup .close-button {
    background: linear-gradient(145deg, #4caf50, #357a38); /* Green gradient */
}

/* Close button common to all popups */
.close {
    position: absolute;
    top: 10px;
    right: 10px;
    cursor: pointer;
    color: white;
    font-size: 1.5em;
}

/* Additional styling for mobile responsiveness, if needed */
@media (max-width: 768px) {
    .popup-content {
        width: 80%;
        padding: 10px;
    }
}


/* Deposit button specific styles */
.deposit-plus {
    background-color: #08c; /* Blue color */
    margin-right: 10px; /* Spacing between buttons */
}

.deposit-plus:hover {
    background-color: #0077b5; /* Slightly darker blue on hover */
    transform: scale(1.05); /* Slight increase in size */
}

/* Withdraw button specific styles */
.withdraw-button {
    background-color: #f80; /* Orange color */
}

.withdraw-button:hover {
    background-color: #e57200; /* Slightly darker orange on hover */
    transform: scale(1.05); /* Slight increase in size */
}

/* Styles for disabled buttons, in case you need them */
.button:disabled {
    background-color: #bbb; /* Grey color for disabled state */
    cursor: not-allowed;
}

    </style>
</head>
<body>

<h1>Mines Game</h1>

<button class="button deposit-plus" onclick="toggleDepositUI()">Deposit +</button>
<button class="button withdraw-button" onclick="withdraw()">Withdraw -</button>


<div class="balance">
    <p>Balance: <span id="balance">$100.00</span></p>
</div>

<div id="depositUI" style="display: none;">
    <div class="deposit-options">
        <div class="deposit-option" onclick="showConfirmationPopup(12.99, 1000)">
            <h3>$12.99</h3>
            <p>1000 in-game currency</p>
        </div>
        <div class="deposit-option" onclick="showConfirmationPopup(49.99, 5000)">
            <h3>$49.99</h3>
            <p>5000 in-game currency</p>
        </div>
        <div class="deposit-option" onclick="showConfirmationPopup(85.53, 10000)">
            <h3>$85.53</h3>
            <p>10000 in-game currency</p>
        </div>
        <div class="deposit-option" onclick="showConfirmationPopup(249.99, 30000)">
            <h3>$249.99</h3>
            <p>30000 in-game currency</p>
        </div>
        <div class="deposit-option" onclick="showConfirmationPopup(449.99, 50000)">
            <h3>$449.99</h3>
            <p>50000 in-game currency</p>
        </div>
        <div class="deposit-option" onclick="showConfirmationPopup(899.99, 100000)">
            <h3>$899.99</h3>
            <p>100,000 in-game currency</p>
        </div>
        <div class="deposit-option" onclick="showConfirmationPopup(9999.99, 1000000)">
            <h3>$9999.99</h3>
            <p>1,000,000 in-game currency</p>
        </div>
    </div>
</div>

<div class="total-withdrawn">
    <p>Total Withdrawn: $<span id="totalWithdrawn">0.00</span></p>
</div>

<div id="confirmationPopup" class="popup-container">
    <div class="popup-content">
        <span class="close" onclick="hideConfirmationPopup()">&times;</span>
        <h2>Are you sure?</h2>
        <button onclick="confirmPurchase()">Yes</button>
        <button onclick="hideConfirmationPopup()">No</button>
    </div>
</div>

<!-- Thank You Popup -->
<div id="thankYouPopup" class="popup-container">
    <div class="popup-content">
        <span class="close" onclick="hideThankYouPopup()">&times;</span>
        <h2>Thank you for your purchase</h2>
        <img src="checkmark.png" alt="Checkmark">
        <button onclick="hideThankYouPopup()">Close</button>
    </div>
</div>

<div class="game-layout_gameLayout__bgIOR">
    <div class="game-layout_gameLayoutColumn__q01vS game-layout_gameLayoutColumnLeft__55fuZ" style="order: initial;">
        <div class="gameBlock gameBet" style="animation: 0.3s ease 0s 1 normal none running bottomTop;">
            <div class="gameBetTabs" style="display: flex; justify-content: space-between;">
                <button class="button_button__dZRSb button_tab__RC45L button_isActive__tpT2u">Manual</button>
                <div style="display: flex; gap: 1em; height: 80%;">
                    <button class="button_button__dZRSb button_betOption__yOLYh"><svg fill="#8690bf" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 318.293 318.293" xml:space="preserve" style="height: 0.75em;"><path d="M159.148 0c-52.696 0-95.544 39.326-95.544 87.662h47.736c0-22.007 21.438-39.927 47.808-39.927 26.367 0 47.804 17.92 47.804 39.927v6.929c0 23.39-10.292 34.31-25.915 50.813-20.371 21.531-45.744 48.365-45.744 105.899h47.745c0-38.524 15.144-54.568 32.692-73.12 17.368-18.347 38.96-41.192 38.96-83.592v-6.929C254.689 39.326 211.845 0 159.148 0zM134.475 277.996h49.968v40.297h-49.968z"></path></svg></button>
                    <button class="button_button__dZRSb button_betOption__yOLYh">Fairness</button>
                    <button class="button_button__dZRSb button_betOption__yOLYh">History</button>
                </div>
            </div>
            <div class="customInput gameBetInput">
                <p class="text_text__fMaR4 text_labelsRegular__YFakN customInputLabel">Bet amount</p>
                <div class="customInputInner">
                    <input id="betAmountInput" class="input_input__N_xjH input_inputWithCurrency__8asLR" pattern="^-?[0-9]\d*\.?\d*$" value="0">
                    <div class="customInputInnerButtons">
                        <button class="button_button__dZRSb button_inputButton__B2DPv">1/2</button>
                        <button class="button_button__dZRSb button_inputButton__B2DPv">2x</button>
                        <button class="button_button__dZRSb button_inputButton__B2DPv">Max</button>
                    </div>
                </div>
            </div>
            <div class="customInput gameBetInput">
                <p class="text_text__fMaR4 text_labelsRegular__YFakN customInputLabel">Mines</p>
                <div class="customInputInner">
                    <input id="mineCountInput" class="input_input__N_xjH" pattern="^-?[0-9]\d*\.?\d*$" value="3" disabled>
                    <div class="customInputInnerButtons">
                        <button class="button_button__dZRSb button_inputButton__B2DPv" onclick="setMineCount(1)">1</button>
                        <button class="button_button__dZRSb button_inputButton__B2DPv" onclick="setMineCount(3)">3</button>
                        <button class="button_button__dZRSb button_inputButton__B2DPv" onclick="setMineCount(5)">5</button>
                        <button class="button_button__dZRSb button_inputButton__B2DPv" onclick="setMineCount(10)">10</button>
                        <button class="button_button__dZRSb button_inputButton__B2DPv" onclick="setMineCount(20)">20</button>
                        <button class="button_button__dZRSb button_inputButton__B2DPv" onclick="setMineCount(24)">24</button>
                    </div>
                </div>
            </div>
            <div class="customInput gameBetInput">
                <p class="text_text__fMaR4 text_labelsRegular__YFakN customInputLabel">Total earnings</p>
                <div class="customInputInner">
                    <input id="totalEarningsInput" class="input_input__N_xjH" disabled value="$0.00">
                </div>
            </div>
            <button class="button_button__dZRSb button_primary__LXFHi gameBetSubmit mobileBottomMargin" onclick="startNewGame()">Start new game</button>
            <button class="cashout-button" onclick="cashout()" disabled>Cashout</button>
        </div>
    </div>
</div>

<div class="game-layout_gameLayoutColumn__q01vS game-layout_gameLayoutColumnRight__oj_7g" style="order: -1;">
    <div id="minesGame" class="mines_minesGame__6Bltb" style="animation: 0.5s ease 0s 1 normal none running bottomTop;"></div>
</div>

<script>
    var mineCount = 3;
    var betAmount = 0;
    var totalEarnings = 0;
    var balance = 100;
    var gameDisabled = false;
    var totalWithdrawn = 0;

    function setMineCount(count) {
        mineCount = count;
        document.getElementById("mineCountInput").value = count;
    }

    function startNewGame() {
        betAmount = parseFloat(document.getElementById("betAmountInput").value);
        if (balance - betAmount < 0) {
            alert("Insufficient balance!");
            return;
        }
        balance -= betAmount;
        document.getElementById("balance").innerText = "$" + balance.toFixed(2);
        totalEarnings = 0;
        document.getElementById("totalEarningsInput").value = "$" + totalEarnings.toFixed(2);

        var gameBoard = document.getElementById("minesGame");
        gameBoard.innerHTML = "";

        // Generate game board with mine buttons
        var mineIndices = generateRandomMines();
        for (var i = 0; i < 25; i++) {
            var button = document.createElement("button");
            button.className = "mines_minesGameItem__S2ytQ";
            button.setAttribute("aria-label", "Mine " + (i + 1));
            button.onclick = function() { revealMine(this); };
            if (mineIndices.includes(i)) {
                button.classList.add("active-mine");
            }
            gameBoard.appendChild(button);
        }
        document.querySelector('.cashout-button').disabled = false;
        gameDisabled = false;

        var multiplier;
        switch (mineCount) {
            case 1:
                multiplier = 1.03;
                break;
            case 3:
                multiplier = 1.12;
                break;
            case 5:
                multiplier = 1.24;
                break;
            case 10:
                multiplier = 1.65;
                break;
            case 20:
                multiplier = 4.98;
                break;
            case 24:
                multiplier = 24.54;
                break;
            default:
                multiplier = 1.0;
        }
        totalEarningsMultiplier = multiplier;
    }

    function revealMine(button) {
        if (button.innerText !== "" || gameDisabled) return; // If already clicked or game is disabled, return

        var index = parseInt(button.dataset.index); // Get button index
        if (button.classList.contains("active-mine")) {
            button.innerText = "X";
            button.style.backgroundColor = "red"; // Set background color to red for active mines
            endGame();
        } else {
            button.innerText = "Safe";
            button.classList.add("safe");
            button.style.backgroundColor = "green"; // Set background color to green for safe spots
            totalEarnings += betAmount * totalEarningsMultiplier; // Adjust earnings based on multiplier
            document.getElementById("totalEarningsInput").value = "$" + totalEarnings.toFixed(2);
        }
    }

    function endGame() {
        gameDisabled = true;
        document.querySelector('.cashout-button').disabled = true;

        // Uncover all mines
        var mineButtons = document.querySelectorAll('.mines_minesGameItem__S2ytQ');
        mineButtons.forEach(function(button) {
            if (button.classList.contains("active-mine")) {
                button.innerText = "X";
                button.style.backgroundColor = "red"; // Set background color to red for active mines
            }
        });
    }
    function withdraw() {
        var withdrawAmount = parseFloat(prompt("Enter the amount you want to withdraw:"));
        if (withdrawAmount > balance) {
            alert("Withdrawal amount exceeds balance!");
            return;
        }
        if (withdrawAmount <= 0 || isNaN(withdrawAmount)) {
            alert("Invalid withdrawal amount!");
            return;
        }
        
        // Convert in-game currency to real dollars
        var realDollars = withdrawAmount * 0.00441; // Assuming conversion rate is 1:100

        balance -= withdrawAmount;
        totalWithdrawn += withdrawAmount; // Update total withdrawn
        updateTotalWithdrawnUI(); // Update UI
        alert("Withdrawal successful! $" + realDollars.toFixed(2) + " has been withdrawn from your balance.");
        document.getElementById("balance").innerText = "$" + balance.toFixed(2);
    }
    
function updateTotalWithdrawnUI() {
    // Convert total withdrawn in in-game currency to real dollars
    var totalWithdrawnRealDollars = totalWithdrawn * 0.00441; // Adjust the conversion rate as needed
    document.getElementById("totalWithdrawn").innerText = "$" + totalWithdrawnRealDollars.toFixed(2);
}

    
    function cashout() {
        balance += totalEarnings;
        document.getElementById("balance").innerText = "$" + balance.toFixed(2);
        totalEarnings = 0;
        document.getElementById("totalEarningsInput").value = "$" + totalEarnings.toFixed(2);
        endGame();
    }

    function toggleDepositUI() {
        var depositUI = document.getElementById("depositUI");
        depositUI.style.display = depositUI.style.display === "none" ? "block" : "none";
    }



    function generateRandomMines() {
        var mineIndices = [];
        while (mineIndices.length < mineCount) {
            var index = Math.floor(Math.random() * 25);
            if (!mineIndices.includes(index)) {
                mineIndices.push(index);
            }
        }
        return mineIndices;
    }
</script>

<script>
    function showConfirmationPopup(price, currencyAmount) {
        var confirmationPopup = document.getElementById("confirmationPopup");
        confirmationPopup.style.display = "block";
        confirmationPopup.setAttribute("data-price", price);
        confirmationPopup.setAttribute("data-currency-amount", currencyAmount);
    }

    function hideConfirmationPopup() {
        document.getElementById("confirmationPopup").style.display = "none";
    }

function confirmPurchase() {
    var price = parseFloat(document.getElementById("confirmationPopup").getAttribute("data-price"));
    var currencyAmount = parseInt(document.getElementById("confirmationPopup").getAttribute("data-currency-amount"));
    // Update global balance variable
    balance += currencyAmount;
    document.getElementById("balance").innerText = "$" + balance.toFixed(2);
    hideConfirmationPopup();
    showThankYouPopup();
}

    function showThankYouPopup() {
        document.getElementById("thankYouPopup").style.display = "block";
    }

    function hideThankYouPopup() {
        document.getElementById("thankYouPopup").style.display = "none";
    }
</script>

</body>
</html>
